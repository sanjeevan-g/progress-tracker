---
title: "implement _.once in javascript - BFE"
publishedAt: "2024-3-2"
updatedAt: "2024-3-2"
tags:
  - JavaScript
  - Machine Coding
  - closure
---

create a function `once(fn)` is used to force a function to be called only once,
later calls only returns the result of first call.

## example

```js
function func(num) {
  return num;
}

const onced = once(func);

onced(1);
// 1, func called with 1

onced(2);
// 1, even 2 is passed, previous result is returned
```

## Code

```js
/**
 * @param {Function} func
 * @return {Function}
 */
function once(func) {
  // your code here
  let isCalled = false;
  let res = undefined;

  return function (...args) {
    if (isCalled) return res;

    isCalled = true;
    res = func.apply(this, args);
    return res;
  };
}
```

- we used closures to find the function called before or not.
- use boolean `isCalled` to check the function called previously
- store the result is `res`
- use `apply` to bind the `this` reference.

[Question Link](https://bigfrontend.dev/problem/implement-once)